# 스코프(Scope) - 진솔

# 요약

1. 스코프는 변수와 함수의 유효범위이다.
2. 코드 내에서 변수와 함수의 이름이 충돌하지 않도록 도와준다.
3. 스코프에는 프로그램 전체에서 접근 가능한 전역 스코프와 해당 코드블록이나 함수 내부에서만 접근가능한 지역스코프 두가지 유형이 있다.

# 설명

![Screenshot 2023-08-22 at 11.42.21 PM.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1994f1a7-4b6b-4bdd-be15-21b2aad27a6f/Screenshot_2023-08-22_at_11.42.21_PM.png)

## 스코프란

식별자의 **유효범위**입니다. 모든 변수, 함수, 클래스등의 이름인 식별자는 자신이 **선언된 위치**에 의해 다른 코드가 자신을 참조할 수 있는지에 대한 **범위가 결정**됩니다.

## 스코프는 왜 필요할까요?

식별자의 의미를 되짚어봅시다. 식별자란 어떤 값을 식별해낼 수 있는 **고유한 이름**입니다. 즉 **하나의 값은 유일한 식별자와 연결**되어야 합니다. 스코프가 없다면 프로그램 전체에서 단 하나의 식별자만 사용할 수 있게 됩니다. 그렇게 된다면 식별자를 만드는 것이 매우 어려운 일이 되겠죠? 그러한 이유로 스코프, 즉 유효범위를 정해주고 변수이름의 충돌을 방지하여 같은 이름의 변수를 사용 할 수 있게 해줍니다.

## 스코프의 종류에는 두가지가 있습니다.

1. 전역스코프(코드 어디서든 참조가능)
2. 지역스코프(함수 내부에서만 참조가능)

## 자바스크립트의 스코프는 특별합니다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e3b619ee-fbc9-4d9e-9ab7-793d291d128f/Untitled.png)

보통 다른 언어는 **블록 레벨 스코프**를 따르지만 자바스크립트는 **함수 레벨 스코프**를 따릅니다. 

**블록 레벨 스코프**는 코드블록(try,catch문, if문 등) 내에서의 변수는 지역스코프를 생성합니다. 하지만 **함수레벨 스코프**는 함수의 코드블록에서만 지역스코프가 생성됩니다. 즉 함수의 코드블럭이 아니라면 전역 스코프를 가지게 됩니다.

**var 키워드**로 선언된 변수는 **함수 레벨 스코프**를 가지며 **ES6 부터 도입된 [let, const 키워드](https://www.notion.so/var-let-const-02e54de2d1d74860a732737d5d7a7477?pvs=21)**로 선언된 변수는 **블록 레벨 스코프**를 지원합니다.

## 렉시컬 스코프란?

**정적 스코프**라고도 하며 변수의 “**선언위치”**에 따라 **스코프가 결정되는 방식**을 의미합니다. 
렉시컬 스코프의 원리는 **함수의 중첩 구조에 기반**합니다. 

함수 내부에서 선언된 변수는 **해당 함수 내부에서만 유효**하며, 외부 함수나 전역 스코프에서는 해당 변수에 직접 접근할 수 없습니다. 그러나 내부 함수는 외부 함수의 변수에 접근할 수 있습니다.

```jsx
function outer() {
  const outerVar = 'I am from outer';
  
  function inner() { //inner 함수가 선언되었을 때 상위 스코프를 기억한다.
    const innerVar = 'I am from inner';
    console.log(innerVar);    // 내부 함수에서 innerVar에 접근 가능
    console.log(outerVar);    // 내부 함수에서 outerVar에 접근 가능
  }
  
  inner();
  
  console.log(innerVar);  
	// 오류: innerVar는 inner함수의 스코프 내에서만 유효하기 때문에 오류
  console.log(outerVar);      
	// 외부 함수에서 outerVar에 접근 가능
}

outer();
```

<aside>
🥔 (궁금) 렉시컬 스코프(정적 스코프)가 아니라면?

함수가 호출 될 때마다 그 “**호출 위치”**를 기준으로 스코프가 **동적**으로 결정됩니다. 
**⇒** 코드 복잡성 증가, 현대 프로그래밍 언어에서는 일반적으로 거의 사용되지 않습니다.

</aside>

## **전역 변수의 문제점**

1. 코드 어디서든 참조 가능하므로 (유효범위가 크다) 코드 가독성이 나빠지고 의도치 않은 상태 변경 위험이 큽니다.
2. 긴 생명주기를 가지므로 메모리 리소스 소비기간이 깁니다. 더불어 그 긴 시간 동안 재할당이 이뤄질 수도 있습니다.
3. 스코프는 자바스크립트 엔진이 변수의 값을 검색하기 위해 사용합니다. 그 중 전역 변수는 가장 마지막에 검색되어 전역 변수의 검색속도가 가장 느립니다.

# 예상질문

- 스코프가 뭔가요? 🔥🔥🔥
- 스코프에는 어떤 종류가 있죠? 🔥🔥
- 렉시컬 스코프를 아나요? 안다면 렉시컬 스코프는 무엇을 의미하나요? 🔥
- 전역 변수로 변수를 선언하면 생기는 문제점은 무엇이 있을까요?

# Ref

1. 모자딥다
2. https://poiemaweb.com/js-scope